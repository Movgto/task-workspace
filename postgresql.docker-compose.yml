services:
  db:
    image: postgres:16  # You can use 'latest' or a specific version
    container_name: postgres_db
    restart: always
    environment:
      POSTGRES_USER: myuser        # Default: postgres
      POSTGRES_PASSWORD: mypassword # Required
      POSTGRES_DB: mydatabase     # Optional: creates a custom database
    ports:
      - "5434:5432"  # Map host port 5432 to container port 5432
    volumes:
      - postgres_data:/var/lib/postgresql/data # Persist data on host

volumes:
  postgres_data:
    driver: local